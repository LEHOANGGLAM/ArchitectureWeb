function _extends(){return _extends=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},_extends.apply(this,arguments)}function _typeof(n){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}(function(n,t){(typeof exports=="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.LazyLoad=t()})(this,function(){"use strict";function vt(n,t){if(t)if(t.length)for(var i=0,r;r=t[i];i+=1)l(n,r);else l(n,t)}var r=typeof window!="undefined",h=r&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),ct=r&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype,c=r&&"classList"in document.createElement("p"),lt={elements_selector:"img",container:h||r?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},at=function(n){return _extends({},lt,n)},l=function(n,t){var i,r="LazyLoad::Initialized",u=new n(t);try{i=new CustomEvent(r,{detail:{instance:u}})}catch(f){i=document.createEvent("CustomEvent");i.initCustomEvent(r,!1,!1,{instance:u})}window.dispatchEvent(i)},a="data-",v="was-processed",y="ll-timeout",p="true",n=function(n,t){return n.getAttribute(a+t)},w=function(n,t,i){var r=a+t;if(i===null){n.removeAttribute(r);return}n.setAttribute(r,i)},yt=function(n){return w(n,v,p)},b=function(t){return n(t,v)===p},k=function(n,t){return w(n,y,t)},d=function(t){return n(t,y)},pt=function(n){return n.filter(function(n){return!b(n)})},wt=function(n,t){return n.filter(function(n){return n!==t})},t=function(n,t){n&&n(t)},g=function(n,i){n._loadingCount+=i;n._elements.length===0&&n._loadingCount===0&&t(n._settings.callback_finish)},nt=function(n){for(var i=[],r=0,t;t=n.children[r];r+=1)t.tagName==="SOURCE"&&i.push(t);return i},i=function(n,t,i){i&&n.setAttribute(t,i)},tt=function(t,r){i(t,"sizes",n(t,r.data_sizes));i(t,"srcset",n(t,r.data_srcset));i(t,"src",n(t,r.data_src))},bt=function(n,t){var i=n.parentNode,r;i&&i.tagName==="PICTURE"&&(r=nt(i),r.forEach(function(n){tt(n,t)}));tt(n,t)},kt=function(t,r){i(t,"src",n(t,r.data_src))},dt=function(t,r){var u=nt(t);u.forEach(function(t){i(t,"src",n(t,r.data_src))});i(t,"src",n(t,r.data_src));t.load()},gt=function(t,i){var r=n(t,i.data_src),u=n(t,i.data_bg);r&&(t.style.backgroundImage='url("'.concat(r,'")'));u&&(t.style.backgroundImage=u)},ni={IMG:bt,IFRAME:kt,VIDEO:dt},ti=function(n,t){var i=t._settings,u=n.tagName,r=ni[u];if(r){r(n,i);g(t,1);t._elements=wt(t._elements,n);return}gt(n,i)},it=function(n,t){if(c){n.classList.add(t);return}n.className+=(n.className?" ":"")+t},ii=function(n,t){if(c){n.classList.remove(t);return}n.className=n.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},rt="load",ut="loadeddata",ft="error",u=function(n,t,i){n.addEventListener(t,i)},f=function(n,t,i){n.removeEventListener(t,i)},ri=function(n,t,i){u(n,rt,t);u(n,ut,t);u(n,ft,i)},et=function(n,t,i){f(n,rt,t);f(n,ut,t);f(n,ft,i)},ot=function(n,i,r){var u=r._settings,e=i?u.class_loaded:u.class_error,o=i?u.callback_loaded:u.callback_error,f=n.target;ii(f,u.class_loading);it(f,e);t(o,f);g(r,-1)},ui=function(n,t){var i=function i(u){ot(u,!0,t);et(n,i,r)},r=function r(u){ot(u,!1,t);et(n,i,r)};ri(n,i,r)},fi=["IMG","IFRAME","VIDEO"],ei=function(n,i){var r=i._settings;if(t(r.callback_enter,n),!r.load_delay){e(n,i);return}si(n,i)},e=function(n,t){var i=t._observer;o(n,t);i&&t._settings.auto_unobserve&&i.unobserve(n)},oi=function(n,i){var r=i._settings;(t(r.callback_exit,n),r.load_delay)&&st(n)},st=function(n){var t=d(n);t&&(clearTimeout(t),k(n,null))},si=function(n,t){var r=t._settings.load_delay,i=d(n);i||(i=setTimeout(function(){e(n,t);st(n)},r),k(n,i))},o=function(n,i,r){var u=i._settings;(r||!b(n))&&(fi.indexOf(n.tagName)>-1&&(ui(n,i),it(n,u.class_loading)),ti(n,i),yt(n),t(u.callback_reveal,n),t(u.callback_set,n))},hi=function(n){return n.isIntersecting||n.intersectionRatio>0},ci=function(n){return{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}},li=function(n){return ct?(n._observer=new IntersectionObserver(function(t){t.forEach(function(t){return hi(t)?ei(t.target,n):oi(t.target,n)})},ci(n._settings)),!0):!1},ai=["IMG","IFRAME"],vi=function(n){return n.use_native&&"loading"in HTMLImageElement.prototype},yi=function(n){n._elements.forEach(function(t){ai.indexOf(t.tagName)!==-1&&(t.setAttribute("loading","lazy"),o(t,n))})},pi=function(n){return Array.prototype.slice.call(n)},wi=function(n){return n.container.querySelectorAll(n.elements_selector)},ht=function(n,t){return pt(pi(n||wi(t)))},s=function(n,t){this._settings=at(n);this._loadingCount=0;li(this);this.update(t)};return s.prototype={update:function(n){var i=this,t=this._settings;if(this._elements=ht(n,t),h||!this._observer){this.loadAll();return}vi(t)&&(yi(this),this._elements=ht(n,t));this._elements.forEach(function(n){i._observer.observe(n)})},destroy:function(){var n=this;this._observer&&(this._elements.forEach(function(t){n._observer.unobserve(t)}),this._observer=null);this._elements=null;this._settings=null},load:function(n,t){o(n,this,t)},loadAll:function(){var n=this;this._elements.forEach(function(t){e(t,n)})}},r&&vt(s,window.lazyLoadOptions),s});